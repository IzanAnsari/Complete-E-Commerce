<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seller Page</title>
    <style>
        #newProduct{
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 20px;
            width: 60%;
            margin: 2% auto;
            background-color: #ffffff;
        }
        button{
            background-color: #17696a;
            color: #fff;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #919ea6;
        }
        
        label{
            margin-top: 10px;
            font-weight: bold;
        }
        input {
            /* width: 100%; */
            padding: 8px;
            margin-top: 2px;
            
            margin-bottom: 1px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .red {
	color: #e44d26;
	font-size: 23px;
	margin-top: 15px;
	margin-bottom: 15px;
}
.black {
	color: #777;
}


    </style>
</head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

<body>
    
    <h5 class="red" style="margin-top: 2px;"><i class="fa fa-shopping-cart" aria-hidden="true" style="margin-top: 20px;"></i> Stark<span class="black"> Mart
        24/7
      </span></h5>
      <h2 style="color: #17696a; margin-left: 35%;" >Merchant Administration Panel</h2>
    <a href="./product.html"><button style="margin-left: 85%;">See the Product</button></a>
    <form id="newProduct">

        <label for="name">Product Name:</label>
        <input type="text" id="name" required>

        <label for="price" style="margin-left: 70px;">Price:</label>
        <input type="number" id="price" required ><br><br>

        <label for="ogprice">Original Price:</label>
        <input type="number" id="ogprice" required>

        <label for="category" style="margin-left: 30px;">Offer in % :</label>
        <input type="text" id="category" required><br><br>

        <label for="description">Description:</label>
        <input type="text" id="description" required style="padding-bottom: 55px; padding-left: 30px;">

        <label for="imageUrl" style="margin-left: 35px;">Image Url:</label>
        <input type="text" id="imageUrl" required><br><br>

        <label for="image1Url">Image 1 Url:</label>
        <input type="text" id="image1Url" required>

        <label for="image2Url" style="margin-left: 43px;">Image 2 Url:</label>
        <input type="text" id="image2Url" required><br><br>

        <label for="image3Url">Image 3 Url:</label>
        <input type="text" id="image3Url" required>

        <label for="image4Url" style="margin-left: 43px;">Image 4 Url:</label>
        <input type="text" id="image4Url" required><br><br>

        <label for="sold">Sold:</label>
        <input type="checkbox" id="sold"><br><br>

        <button type="button" id="add" onclick="addProduct()">Add Product</button>
    </form>

</body>
</html>



<script>

function Product(name, price, ogprice, category, description, imageUrl, image1Url, image2Url, image3Url, image4Url, sold) {
        this.id = generateRandomId();
        this.name = name;
        this.price = price;
        this.ogprice = ogprice;
        this.category = category;
        this.description = description;
        this.imageUrl = imageUrl;
        this.image1Url = image1Url;
        this.image2Url = image2Url;
        this.image3Url = image3Url;
        this.image4Url = image4Url;
        this.sold = sold || false;
        
        function generateRandomId() {
            // Generate a random number between 1 and 1000 (adjust the range as needed)
            return Math.floor(Math.random() * 10000) + 1;
        }
    }
    
    function addProduct() {
    // Get form input values
    let name = document.getElementById('name').value;
    let price = parseFloat(document.getElementById('price').value);
    let ogprice = parseFloat(document.getElementById('ogprice').value);
    let category = document.getElementById('category').value;
    let description = document.getElementById('description').value;
    let imageUrl = document.getElementById('imageUrl').value;
    let image1Url = document.getElementById('image1Url').value;
    let image2Url = document.getElementById('image2Url').value;
    let image3Url = document.getElementById('image3Url').value;
    let image4Url = document.getElementById('image4Url').value;
    let sold = document.getElementById('sold').checked    
    // Validate input values (add additional validation as needed)
    if (!name || isNaN(price) || isNaN(ogprice) || !category || !imageUrl) {
        alert("Please fill in all required fields.");
        return;
    }

    console.log("Creating new product instance...");

    // Create new Product instance
    let product = new Product(name, price, ogprice, category, description, imageUrl, image1Url, image2Url, image3Url, image4Url);

    console.log("New product instance created:", product);

    // Get existing products from local storage
    let ecommerceProducts = JSON.parse(localStorage.getItem('products')) || [];

    console.log("Before Adding Product:", ecommerceProducts);

    // Add the new product to the array
    ecommerceProducts.push(product);

    console.log("After Adding Product:", ecommerceProducts);

    // Update local storage with the modified array
    localStorage.setItem('products', JSON.stringify(ecommerceProducts));

    console.log("Product added successfully!");

    // Reset the form
    document.getElementById('newProduct').reset();
}

</script>

